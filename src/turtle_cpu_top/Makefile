TURTLE_CPU_TOP_DIR := $(dir $(lastword $(MAKEFILE_LIST)))
PROJECT_ROOT := $(TURTLE_CPU_TOP_DIR)/..
CURRENT_DIR := /work/turtle_cpu_top

include ../../rtl-toolkit/tools/tool_flows.mk

include ../alu/Makefile
ALU_DIRS := $(INCLUDE_DIRS)
ALU_INCLUDE_FILES := $(INCLUDE_FILES)

include ../clk_rst_gen/Makefile
CLK_RST_GEN_DIRS := $(INCLUDE_DIRS)
CLK_RST_GEN_INCLUDE_FILES := $(INCLUDE_FILES)

include ../data_memory/Makefile
DATA_MEMORY_DIRS := $(INCLUDE_DIRS)
DATA_MEMORY_INCLUDE_FILES := $(INCLUDE_FILES)

include ../decoder/Makefile
DECODER_DIRS := $(INCLUDE_DIRS)
DECODER_INCLUDE_FILES := $(INCLUDE_FILES)

include ../instruction_memory/Makefile
INSTRUCTION_MEMORY_DIRS := $(INCLUDE_DIRS)
INSTRUCTION_MEMORY_INCLUDE_FILES := $(INCLUDE_FILES)

include ../program_counter/Makefile
PROGRAM_COUNTER_DIRS := $(INCLUDE_DIRS)
PROGRAM_COUNTER_INCLUDE_FILES := $(INCLUDE_FILES)

include ../register_file/Makefile
REGISTER_FILE_DIRS := $(INCLUDE_DIRS)
REGISTER_FILE_INCLUDE_FILES := $(INCLUDE_FILES)

INCLUDE_DIRS := $(ALU_INCLUDE_DIRS) \
				$(CLK_RST_GEN_DIRS) \
				$(DATA_MEMORY_DIRS) \
				$(DECODER_DIRS) \
				$(INSTRUCTION_MEMORY_DIRS) \
				$(PROGRAM_COUNTER_DIRS) \
				$(REGISTER_FILE_DIRS) \
				$(PROJECT_ROOT)/common/rtl \
				$(TURTLE_CPU_TOP_DIR)/rtl \
				$(TURTLE_CPU_TOP_DIR)/tb
INCLUDE_FILES := $(ALU_INCLUDE_FILES) \
				$(CLK_RST_GEN_INCLUDE_FILES) \
				$(DATA_MEMORY_INCLUDE_FILES) \
				$(DECODER_INCLUDE_FILES) \
				$(INSTRUCTION_MEMORY_INCLUDE_FILES) \
				$(PROGRAM_COUNTER_INCLUDE_FILES) \
				$(REGISTER_FILE_INCLUDE_FILES)
FILE_LIST := $(INCLUDE_FILES) turtle_cpu_top.sv turtle_cpu_top_tb.sv 
WAVE_FILE := waves.vcd
